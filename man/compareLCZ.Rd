% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compareLCZ.R
\name{compareLCZ}
\alias{compareLCZ}
\title{Compares two LCZ classification on the same zone,
produces a map for each classification, a map of their agreement and a representation of a confusion matrix between them}
\usage{
compareLCZ(
  sf1,
  geomID1 = "",
  column1,
  confid1 = "",
  wf1 = "bdtopo_2_2",
  sf2,
  column2,
  geomID2 = "",
  confid2 = "",
  wf2 = "osm",
  ref = 1,
  repr = "standard",
  saveG = "",
  exwrite = TRUE,
  outDir = getwd(),
  location = "Redon",
  plot = TRUE,
  tryGroup = FALSE,
  ...
)
}
\arguments{
\item{sf1}{is the sf object that contains the first LCZ classification}

\item{geomID1}{is the name of the column storing the ID of the geoms in sf1}

\item{column1}{is the column of sf1 that contains the LCZ classification for each geom of sf1.
By defautl it is set to an empty string and no ID is loaded.}

\item{confid1}{is a column that contains an indicator of confidence
of the level of the LCZ in column 1, e.g. a uniqueness value, or a probability of belonging to the class...
By defautl it is set to an empty string and no confidence indicator is loaded.}

\item{wf1}{is the workflow used to produce the first LCZ classification.
When GeoClimate was used with BD_TOPO V2 data as input,
use "bdtopo_2_2". When GeoClimate was used with Open Street Map data as input, use "osm".
When the LCZ come from the wudapt Europe tiff, use "wudapt".}

\item{sf2}{is the sf object that contains the second LCZ classification}

\item{column2}{is the column of sf2 that contains the LCZ classification for each geom of sf2}

\item{geomID2}{is the name of the column storing the ID of the geoms in sf2}

\item{confid2}{is a column that contains an indicator of confidence
of the level of the LCZ in column 2, e.g. a uniqueness value, or a probability of belonging to the class...
By defautl it is set to an empty string and no confidence indicator is loaded.}

\item{wf2}{is the workflow used to produce the second LCZ classification.
When GeoClimate was used with BD_TOPO V2 data as input,
use "bdtopo_2_2". When GeoClimate was used with Open Street Map data as input, use "osm".
When the LCZ come from the wudapt Europe tiff, use "wudapt".}

\item{ref}{: If the coordinate reference system (CRS) of sf1 and sf2 differ, ref indicates which CRS to choose for both files (1 or 2)}

\item{repr}{"standard" means that original values of LCZ are used,
"grouped" means the user has groupe some of the LCZ levels under a new label.
In the latter case, the ... arguments must contain the groups and a color vector.}

\item{saveG}{: when an empty character string, "", the plots are not saved. Else, the saveG string is used to produce the name of the saved png file.}

\item{exwrite}{: when TRUE, the values of the LCZ on the intersected geoms are written down in a csv file}

\item{outDir}{: when exwrite equals TRUE, outDir is the path to the folder where one wants to write
the csv file containing the values of the LCZ on the intersected geoms}

\item{location}{: the name of the study area, as chosen as the name of the directory on the GeoClimate team cloud.
If the area you wish to analyse is not uploaded yet, please contact the GeoClimate Team.}

\item{plot}{: when FALSE non of the graphics are plotted or saved}

\item{...}{allow to pass arguments if representation is grouped.
The expected arguments are the name of each grouped label,
the levels of LCZ they contain, and last a vector of the colors to use to plot them.}
}
\value{
returns an object called matConfOut which contains
matConfLong, a confusion matrix in a longer form, which can be written in a file by the compareLCZ function
and is used by the geom_tile function of the ggplot2 package.
matConfPlot is a ggplot2 object showing the confusion matrix. If plot=T, it is also directly plotted
areas contains the sums of each LCZ area
percAgg is the general agreement between the two sets of LCZ, expressed as a percentage of the total area of the study zone
If saveG is not an empty string, graphics are saved under "saveG.png"
}
\description{
Compares two LCZ classification on the same zone,
produces a map for each classification, a map of their agreement and a representation of a confusion matrix between them
}
\examples{
compareLCZ(sf1=redonBDT, column1="LCZ_PRIMARY", geomID1 = "ID_RSU",
confid1="LCZ_UNIQUENESS_VALUE", wf1="bdtopo_2_2",
sf2=redonOSM, column2="LCZ_PRIMARY", geomID2 = "ID_RSU",
confid2="LCZ_UNIQUENESS_VALUE", wf2="osm",
repr="standard", saveG="", exwrite=TRUE, location="Redon", plot=TRUE)
}
